source(activationFunctionPath)

values = csvread(dataFile);
answers = values(:,end);
global maxAnswer = max(answers);
global minAnswer = min(answers);
global newMax = activationFunctionRange(2) - activationFunctionMarginDelta;
global newMin = activationFunctionRange(1) + activationFunctionMarginDelta;

function answer = changeRange(x)
	global maxAnswer
	global minAnswer
	global newMax
	global newMin
	answer = ((x-minAnswer)/maxAnswer)*(newMax-newMin) + newMin;
endfunction

function answer = reverseChangeRange(x)
	global maxAnswer
	global minAnswer
	global newMax
	global newMin
	answer = ((x - newMin)/(newMax-newMin))*maxAnswer + minAnswer  
endfunction

newAnswers = arrayfun(@changeRange, answers);
dataFile = strcat(dataFile,'-modified');
dlmwrite(dataFile, [values(:,1:end-1),newAnswers]);

